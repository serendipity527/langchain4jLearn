# æ–‡æœ¬æ®µè½¬æ¢å™¨è®¾è®¡æ¨¡å¼è¯´æ˜

## é‡æ„æ¦‚è¿°

ä½¿ç”¨**ç­–ç•¥æ¨¡å¼**å’Œ**å·¥å‚æ¨¡å¼**å®ç°æ–‡æœ¬æ®µè½¬æ¢å™¨ï¼ˆTextSegmentTransformerï¼‰åŠŸèƒ½ï¼Œåœ¨TextSegmentçº§åˆ«è¿›è¡Œè½¬æ¢å’Œå¢å¼ºï¼Œç‰¹åˆ«æ˜¯ä¸ºæ¯ä¸ªæ–‡æœ¬æ®µæ·»åŠ æ–‡æ¡£æ ‡é¢˜æˆ–æ‘˜è¦ï¼Œä»¥æé«˜RAGæ£€ç´¢æ•ˆæœã€‚

---

## è®¾è®¡æ¨¡å¼åº”ç”¨

### ç­–ç•¥æ¨¡å¼ï¼ˆStrategy Patternï¼‰

**ç›®çš„**: å®šä¹‰ä¸€ç³»åˆ—æ–‡æœ¬æ®µè½¬æ¢ç®—æ³•ï¼Œå°è£…æ¯ä¸ªç®—æ³•ï¼Œä½¿å®ƒä»¬å¯ä»¥äº’ç›¸æ›¿æ¢ã€‚

**å®ç°**:
- **ç­–ç•¥æ¥å£**: `TextSegmentTransformerStrategy`
- **å…·ä½“ç­–ç•¥**:
  - `TitleEnhancerTransformer` - æ·»åŠ æ–‡æ¡£æ ‡é¢˜ï¼ˆæ ¸å¿ƒåŠŸèƒ½ï¼‰
  - `SummaryEnhancerTransformer` - æ·»åŠ æ–‡æ¡£æ‘˜è¦
  - `MetadataEnhancerSegmentTransformer` - å¢å¼ºæ–‡æœ¬æ®µå…ƒæ•°æ®

### å·¥å‚æ¨¡å¼ï¼ˆFactory Patternï¼‰

**å®ç°**:
- **å·¥å‚ç±»**: `TextSegmentTransformerFactory`
- **åŠŸèƒ½**: 
  - æä¾›é»˜è®¤å¢å¼ºæµç¨‹
  - æä¾›å®Œæ•´å¢å¼ºæµç¨‹ï¼ˆåŒ…å«æ‘˜è¦ï¼‰
  - æ”¯æŒè‡ªå®šä¹‰è½¬æ¢å™¨ç»„åˆ

---

## æ ¸å¿ƒè®¾è®¡ç†å¿µ

### ä¸ºä»€ä¹ˆéœ€è¦æ–‡æœ¬æ®µè½¬æ¢å™¨ï¼Ÿ

åœ¨RAGç³»ç»Ÿä¸­ï¼Œæ–‡æœ¬æ®µï¼ˆTextSegmentï¼‰æ˜¯æ£€ç´¢å’Œç”Ÿæˆçš„åŸºæœ¬å•å…ƒã€‚ä½†æ˜¯ï¼Œç‹¬ç«‹çš„æ–‡æœ¬æ®µå¾€å¾€ç¼ºä¹ä¸Šä¸‹æ–‡ä¿¡æ¯ï¼Œå¯¼è‡´æ£€ç´¢æ•ˆæœä¸ä½³ã€‚

**é—®é¢˜ç¤ºä¾‹**:
```
åŸå§‹æ–‡æœ¬æ®µ:
"è¯¥ç³»ç»Ÿé‡‡ç”¨äº†å…ˆè¿›çš„æ¶æ„è®¾è®¡ï¼Œå…·æœ‰é«˜å¯ç”¨æ€§å’Œå¯æ‰©å±•æ€§ã€‚"

é—®é¢˜ï¼šè¿™æ˜¯å…³äºä»€ä¹ˆç³»ç»Ÿçš„ï¼Ÿæ¥è‡ªå“ªä¸ªæ–‡æ¡£ï¼Ÿ
```

**è§£å†³æ–¹æ¡ˆ - æ·»åŠ æ ‡é¢˜**:
```
å¢å¼ºåçš„æ–‡æœ¬æ®µ:
ã€æ–‡æ¡£æ ‡é¢˜: å¾®æœåŠ¡æ¶æ„è®¾è®¡æ–¹æ¡ˆã€‘

è¯¥ç³»ç»Ÿé‡‡ç”¨äº†å…ˆè¿›çš„æ¶æ„è®¾è®¡ï¼Œå…·æœ‰é«˜å¯ç”¨æ€§å’Œå¯æ‰©å±•æ€§ã€‚

æ•ˆæœï¼šç°åœ¨æ£€ç´¢æ—¶å¯ä»¥æ˜ç¡®çŸ¥é“è¿™æ˜¯å…³äº"å¾®æœåŠ¡æ¶æ„è®¾è®¡æ–¹æ¡ˆ"çš„å†…å®¹ï¼
```

---

## æ¶æ„è®¾è®¡

```
å®Œæ•´æ–‡æ¡£å¤„ç†æµç¨‹ï¼ˆäº”å±‚æ¶æ„ï¼‰:

1ï¸âƒ£ åŠ è½½æ–‡æ¡£
   DocumentLoaderFactory â†’ åŠ è½½æ–‡æ¡£
   â†“
2ï¸âƒ£ è§£ææ–‡æ¡£
   DocumentParserFactory â†’ è§£ææ–‡æ¡£
   â†“
3ï¸âƒ£ è½¬æ¢æ–‡æ¡£
   DocumentTransformerFactory â†’ æ¸…ç†/ç­›é€‰/å¢å¼º
   â†“
4ï¸âƒ£ åˆ†å‰²æ–‡æ¡£
   DocumentSplitterFactory â†’ åˆ†å‰²æˆæ–‡æœ¬æ®µ
   â†“
5ï¸âƒ£ å¢å¼ºæ–‡æœ¬æ®µ â­ (æ–°å¢)
   TextSegmentTransformerFactory â†’ æ·»åŠ æ ‡é¢˜/æ‘˜è¦
   â”œâ†’ TitleEnhancer (æ·»åŠ æ ‡é¢˜)
   â”œâ†’ SummaryEnhancer (æ·»åŠ æ‘˜è¦)
   â””â†’ MetadataEnhancer (å¢å¼ºå…ƒæ•°æ®)
   â†“
6ï¸âƒ£ å‘é‡åŒ–å­˜å‚¨
   EmbeddingModel + EmbeddingStore
```

---

## æ ¸å¿ƒç±»è¯´æ˜

### 1. TextSegmentTransformerTypeï¼ˆæšä¸¾ï¼‰

```java
public enum TextSegmentTransformerType {
    TITLE_ENHANCER,      // æ ‡é¢˜å¢å¼ºè½¬æ¢å™¨ï¼ˆæ ¸å¿ƒï¼‰
    SUMMARY_ENHANCER,    // æ‘˜è¦å¢å¼ºè½¬æ¢å™¨
    METADATA_ENHANCER,   // å…ƒæ•°æ®å¢å¼ºè½¬æ¢å™¨
    CLEANING,            // æ¸…ç†è½¬æ¢å™¨
    FILTERING,           // ç­›é€‰è½¬æ¢å™¨
    COMPOSITE            // ç»„åˆè½¬æ¢å™¨
}
```

---

### 2. TextSegmentTransformerStrategyï¼ˆç­–ç•¥æ¥å£ï¼‰

```java
public interface TextSegmentTransformerStrategy {
    // è½¬æ¢å•ä¸ªæ–‡æœ¬æ®µ
    TextSegment transform(TextSegment textSegment);
    
    // æ‰¹é‡è½¬æ¢
    List<TextSegment> transformAll(List<TextSegment> textSegments);
    
    // è·å–è½¬æ¢å™¨ç±»å‹
    TextSegmentTransformerType getTransformerType();
    
    // è·å–æè¿°
    String getDescription();
    
    // æ˜¯å¦å¯ç”¨
    default boolean isEnabled() { return true; }
}
```

---

### 3. å…·ä½“è½¬æ¢å™¨å®ç°

#### TitleEnhancerTransformerï¼ˆæ ‡é¢˜å¢å¼ºè½¬æ¢å™¨ï¼‰â­

**æ ¸å¿ƒåŠŸèƒ½**: åœ¨æ¯ä¸ªæ–‡æœ¬æ®µå‰æ·»åŠ æ–‡æ¡£æ ‡é¢˜ï¼Œæé«˜æ£€ç´¢æ•ˆæœ

**å®ç°åŸç†**:
1. ä»æ–‡æœ¬æ®µçš„å…ƒæ•°æ®ä¸­æå–æ ‡é¢˜
2. å°†æ ‡é¢˜ä»¥ç‰¹å®šæ ¼å¼æ·»åŠ åˆ°æ–‡æœ¬æ®µå‰é¢
3. ä¿ç•™åŸæœ‰å…ƒæ•°æ®

**ä»£ç ç¤ºä¾‹**:
```java
@Component
public class TitleEnhancerTransformer implements TextSegmentTransformerStrategy {
    
    @Override
    public TextSegment transform(TextSegment textSegment) {
        String title = getTitle(textSegment);
        
        if (title == null || title.trim().isEmpty()) {
            return textSegment;  // æ²¡æœ‰æ ‡é¢˜åˆ™è¿”å›åŸæ–‡æœ¬æ®µ
        }
        
        // åœ¨æ–‡æœ¬æ®µå‰æ·»åŠ æ ‡é¢˜
        String enhancedText = String.format("ã€æ–‡æ¡£æ ‡é¢˜: %sã€‘\n\n%s", 
                title.trim(), textSegment.text());
        
        return TextSegment.from(enhancedText, textSegment.metadata());
    }
    
    private String getTitle(TextSegment textSegment) {
        if (textSegment.metadata() == null) return null;
        
        // å°è¯•å¤šä¸ªå¯èƒ½çš„æ ‡é¢˜å­—æ®µ
        String title = textSegment.metadata().getString("title");
        if (title == null) {
            title = textSegment.metadata().getString("document_title");
        }
        if (title == null) {
            title = textSegment.metadata().getString("file_name");
        }
        return title;
    }
}
```

**ä½¿ç”¨åœºæ™¯**:
- âœ… æ–‡æ¡£æœ‰æ˜ç¡®æ ‡é¢˜çš„åœºæ™¯
- âœ… éœ€è¦æé«˜æ£€ç´¢å‡†ç¡®æ€§
- âœ… ç”¨æˆ·æŸ¥è¯¢æ—¶éœ€è¦æ–‡æ¡£çº§åˆ«çš„ä¸Šä¸‹æ–‡

**æ•ˆæœå¯¹æ¯”**:
```
åŸå§‹æ–‡æœ¬æ®µ:
"é…ç½®æ–‡ä»¶ä½äº /etc/config/ ç›®å½•ä¸‹..."

æŸ¥è¯¢ï¼š"åœ¨å“ªé‡Œå¯ä»¥æ‰¾åˆ°é…ç½®æ–‡ä»¶ï¼Ÿ"
é—®é¢˜ï¼šå¯èƒ½åŒ¹é…åˆ°å¤šä¸ªä¸åŒç³»ç»Ÿçš„é…ç½®è¯´æ˜

---

å¢å¼ºåæ–‡æœ¬æ®µ:
"ã€æ–‡æ¡£æ ‡é¢˜: Linuxç³»ç»Ÿç®¡ç†æ‰‹å†Œã€‘

é…ç½®æ–‡ä»¶ä½äº /etc/config/ ç›®å½•ä¸‹..."

æŸ¥è¯¢ï¼š"åœ¨å“ªé‡Œå¯ä»¥æ‰¾åˆ°é…ç½®æ–‡ä»¶ï¼Ÿ"
æ•ˆæœï¼šæ˜ç¡®çŸ¥é“æ˜¯Linuxç³»ç»Ÿçš„é…ç½®æ–‡ä»¶ï¼Œæ£€ç´¢æ›´å‡†ç¡®ï¼
```

---

#### SummaryEnhancerTransformerï¼ˆæ‘˜è¦å¢å¼ºè½¬æ¢å™¨ï¼‰

**åŠŸèƒ½**: åœ¨æ¯ä¸ªæ–‡æœ¬æ®µå‰æ·»åŠ æ–‡æ¡£æ‘˜è¦ï¼Œæä¾›æ›´ä¸°å¯Œçš„ä¸Šä¸‹æ–‡

**å®ç°**:
```java
@Component
public class SummaryEnhancerTransformer implements TextSegmentTransformerStrategy {
    
    @Override
    public TextSegment transform(TextSegment textSegment) {
        String summary = getSummary(textSegment);
        
        if (summary == null || summary.trim().isEmpty()) {
            return textSegment;
        }
        
        String enhancedText = String.format("ã€æ–‡æ¡£æ‘˜è¦: %sã€‘\n\n%s", 
                summary.trim(), textSegment.text());
        
        return TextSegment.from(enhancedText, textSegment.metadata());
    }
}
```

**ä½¿ç”¨åœºæ™¯**:
- æ–‡æ¡£æœ‰æ‘˜è¦ä¿¡æ¯æ—¶
- éœ€è¦æä¾›æ–‡æ¡£çº§åˆ«çš„èƒŒæ™¯ä¿¡æ¯
- å¸®åŠ©ç†è§£æ–‡æœ¬æ®µåœ¨æ•´ä¸ªæ–‡æ¡£ä¸­çš„ä½œç”¨

---

#### MetadataEnhancerSegmentTransformerï¼ˆå…ƒæ•°æ®å¢å¼ºè½¬æ¢å™¨ï¼‰

**åŠŸèƒ½**: ä¸ºæ–‡æœ¬æ®µæ·»åŠ ç»Ÿè®¡ä¿¡æ¯

**æ·»åŠ çš„å…ƒæ•°æ®**:
- `segment_char_count`: å­—ç¬¦æ•°
- `segment_word_count`: å•è¯æ•°
- `segment_line_count`: è¡Œæ•°

**ä½¿ç”¨åœºæ™¯**:
- éœ€è¦æ–‡æœ¬æ®µçº§åˆ«çš„ç»Ÿè®¡ä¿¡æ¯
- ä¾¿äºåç»­åˆ†æå’Œè¿‡æ»¤

---

### 4. TextSegmentTransformerFactoryï¼ˆå·¥å‚ç±»ï¼‰

```java
@Component
@RequiredArgsConstructor
public class TextSegmentTransformerFactory {
    private final List<TextSegmentTransformerStrategy> transformerStrategies;
    
    // è·å–è½¬æ¢å™¨
    public TextSegmentTransformerStrategy getTransformer(
        TextSegmentTransformerType type);
    
    // é»˜è®¤æµç¨‹ï¼šæ ‡é¢˜å¢å¼º â†’ å…ƒæ•°æ®å¢å¼º
    public List<TextSegmentTransformerStrategy> createDefaultPipeline();
    
    // å®Œæ•´æµç¨‹ï¼šæ ‡é¢˜ â†’ æ‘˜è¦ â†’ å…ƒæ•°æ®
    public List<TextSegmentTransformerStrategy> createFullEnhancementPipeline();
    
    // åˆ—å‡ºæ‰€æœ‰å¯ç”¨è½¬æ¢å™¨
    public Map<TextSegmentTransformerType, String> listAvailableTransformers();
}
```

---

## é›†æˆåˆ°æ–‡æ¡£å¤„ç†æµç¨‹

### åœ¨DocumentServiceä¸­çš„åº”ç”¨

```java
public void ingestDocuments(List<Document> documents, 
                            DocumentSplitterType splitterType,
                            boolean applyDocTransformation,
                            boolean applySegmentEnhancement) {
    
    // 1. æ–‡æ¡£è½¬æ¢
    if (applyDocTransformation) {
        documents = documentTransformerFactory.createDefaultPipeline()
                .transformAll(documents);
    }
    
    // 2. åˆ›å»ºåµŒå…¥å­˜å‚¨æ‘„å–å™¨
    var builder = EmbeddingStoreIngestor.builder()
            .documentSplitter(splitter)
            .embeddingModel(embeddingModel)
            .embeddingStore(embeddingStore);
    
    // 3. æ·»åŠ æ–‡æœ¬æ®µè½¬æ¢å™¨
    if (applySegmentEnhancement) {
        List<TextSegmentTransformerStrategy> segmentTransformers = 
                textSegmentTransformerFactory.createDefaultPipeline();
        
        builder.textSegmentTransformer(segment -> {
            TextSegment result = segment;
            for (TextSegmentTransformerStrategy transformer : segmentTransformers) {
                result = transformer.transform(result);
                if (result == null) break;
            }
            return result;
        });
    }
    
    // 4. æ‘„å–
    builder.build().ingest(documents);
}
```

---

## ä½¿ç”¨ç¤ºä¾‹

### ç¤ºä¾‹1: ä½¿ç”¨é»˜è®¤æµç¨‹

```java
// è‡ªåŠ¨åº”ç”¨æ–‡æœ¬æ®µå¢å¼ºï¼ˆæ ‡é¢˜ + å…ƒæ•°æ®ï¼‰
documentService.ingestDocuments(
    documents, 
    DocumentSplitterType.RECURSIVE,
    false,  // ä¸åº”ç”¨æ–‡æ¡£è½¬æ¢
    true    // åº”ç”¨æ–‡æœ¬æ®µå¢å¼º
);
```

### ç¤ºä¾‹2: å®Œæ•´å¤„ç†æµç¨‹

```java
// åº”ç”¨æ–‡æ¡£è½¬æ¢ + æ–‡æœ¬æ®µå¢å¼º
documentService.ingestDocuments(
    documents,
    DocumentSplitterType.RECURSIVE,
    true,   // åº”ç”¨æ–‡æ¡£è½¬æ¢ï¼ˆæ¸…ç†ã€ç­›é€‰ï¼‰
    true    // åº”ç”¨æ–‡æœ¬æ®µå¢å¼ºï¼ˆæ·»åŠ æ ‡é¢˜ï¼‰
);
```

---

## å®é™…æ•ˆæœæ¼”ç¤º

### åœºæ™¯ï¼šæŠ€æœ¯æ–‡æ¡£æ£€ç´¢

**åŸå§‹æ–‡æ¡£**:
- æ ‡é¢˜: "Spring Boot æœ€ä½³å®è·µ"
- å†…å®¹: åŒ…å«å¤šä¸ªç« èŠ‚...

**åˆ†å‰²åçš„åŸå§‹æ–‡æœ¬æ®µ**:
```
æ–‡æœ¬æ®µ1:
"ä½¿ç”¨@Serviceæ³¨è§£æ ‡è®°æœåŠ¡å±‚ç»„ä»¶ï¼Œä½¿ç”¨@Repositoryæ ‡è®°æ•°æ®è®¿é—®å±‚ç»„ä»¶..."
```

**åº”ç”¨æ ‡é¢˜å¢å¼ºå**:
```
æ–‡æœ¬æ®µ1:
"ã€æ–‡æ¡£æ ‡é¢˜: Spring Boot æœ€ä½³å®è·µã€‘

ä½¿ç”¨@Serviceæ³¨è§£æ ‡è®°æœåŠ¡å±‚ç»„ä»¶ï¼Œä½¿ç”¨@Repositoryæ ‡è®°æ•°æ®è®¿é—®å±‚ç»„ä»¶..."
```

**æ£€ç´¢æ•ˆæœ**:
- æŸ¥è¯¢: "Spring Bootä¸­å¦‚ä½•ä½¿ç”¨æ³¨è§£ï¼Ÿ"
- åŸå§‹æ–¹å¼: å¯èƒ½åŒ¹é…åˆ°ä»»ä½•å…³äºæ³¨è§£çš„å†…å®¹
- å¢å¼ºå: æ˜ç¡®åŒ¹é…åˆ°Spring Bootç›¸å…³çš„æ³¨è§£ä½¿ç”¨è¯´æ˜âœ…

---

## ä¼˜åŠ¿æ€»ç»“

### 1. **æé«˜æ£€ç´¢å‡†ç¡®æ€§** â­
- âœ… ä¸ºæ–‡æœ¬æ®µæä¾›æ–‡æ¡£çº§åˆ«çš„ä¸Šä¸‹æ–‡
- âœ… å‡å°‘æ­§ä¹‰ï¼Œæé«˜ç›¸å…³æ€§
- âœ… å¸®åŠ©RAGç³»ç»Ÿæ›´å¥½åœ°ç†è§£å†…å®¹

### 2. **ä¿ç•™æ–‡æ¡£ç»“æ„ä¿¡æ¯**
- âœ… æ–‡æœ¬æ®µçŸ¥é“è‡ªå·±æ¥è‡ªå“ªä¸ªæ–‡æ¡£
- âœ… ä¿ç•™æ–‡æ¡£çš„ä¸»é¢˜ä¿¡æ¯
- âœ… ä¾¿äºæº¯æºå’ŒéªŒè¯

### 3. **çµæ´»å¯é…ç½®**
- âœ… å¯é€‰æ‹©æ˜¯å¦å¯ç”¨
- âœ… æ”¯æŒå¤šç§å¢å¼ºç­–ç•¥
- âœ… æ˜“äºæ‰©å±•æ–°çš„è½¬æ¢å™¨

### 4. **æ— ç¼é›†æˆ**
- âœ… ä¸ç°æœ‰å¤„ç†æµç¨‹å®Œç¾é…åˆ
- âœ… ä¸å½±å“åŸæœ‰åŠŸèƒ½
- âœ… å¯é€‰å¯ç”¨ï¼Œå‘åå…¼å®¹

---

## é¡¹ç›®ç»“æ„

```
src/main/java/org/example/ragtest/
â”œâ”€â”€ textsegment/                     # æ–‡æœ¬æ®µè½¬æ¢å™¨åŒ…ï¼ˆæ–°å¢ï¼‰â­
â”‚   â”œâ”€â”€ TextSegmentTransformerStrategy.java   # è½¬æ¢å™¨ç­–ç•¥æ¥å£
â”‚   â”œâ”€â”€ TextSegmentTransformerType.java       # è½¬æ¢å™¨ç±»å‹æšä¸¾
â”‚   â”œâ”€â”€ TextSegmentTransformerFactory.java    # è½¬æ¢å™¨å·¥å‚
â”‚   â””â”€â”€ impl/                                 # è½¬æ¢å™¨ç­–ç•¥å®ç°
â”‚       â”œâ”€â”€ TitleEnhancerTransformer.java
â”‚       â”œâ”€â”€ SummaryEnhancerTransformer.java
â”‚       â””â”€â”€ MetadataEnhancerSegmentTransformer.java
â”œâ”€â”€ loader/                          # æ–‡æ¡£åŠ è½½å™¨åŒ…
â”œâ”€â”€ parser/                          # æ–‡æ¡£è§£æå™¨åŒ…
â”œâ”€â”€ transformer/                     # æ–‡æ¡£è½¬æ¢å™¨åŒ…
â”œâ”€â”€ splitter/                        # æ–‡æ¡£åˆ†å‰²å™¨åŒ…
â””â”€â”€ service/
    â””â”€â”€ DocumentService.java         # ä½¿ç”¨æ‰€æœ‰å·¥å‚
```

---

## æœ€ä½³å®è·µå»ºè®®

### 1. ä½•æ—¶ä½¿ç”¨æ ‡é¢˜å¢å¼ºï¼Ÿ

âœ… **æ¨èä½¿ç”¨**:
- æ–‡æ¡£æœ‰æ˜ç¡®æ ‡é¢˜
- éœ€è¦é«˜å‡†ç¡®æ€§çš„æ£€ç´¢
- å¤šæ–‡æ¡£æ··åˆæ£€ç´¢åœºæ™¯

âŒ **ä¸æ¨èä½¿ç”¨**:
- æ–‡æ¡£æ²¡æœ‰æ ‡é¢˜ä¿¡æ¯
- å¯¹tokenæ•°é‡æœ‰ä¸¥æ ¼é™åˆ¶
- å•ä¸€æ–‡æ¡£çš„å†…éƒ¨æ£€ç´¢

### 2. å¦‚ä½•è®¾ç½®æ ‡é¢˜ï¼Ÿ

åœ¨æ–‡æ¡£è½¬æ¢é˜¶æ®µæ·»åŠ æ ‡é¢˜åˆ°å…ƒæ•°æ®ï¼š
```java
Document document = Document.from(text);
document.metadata().put("title", "æ‚¨çš„æ–‡æ¡£æ ‡é¢˜");
```

æˆ–åœ¨åŠ è½½æ–‡æ¡£æ—¶è‡ªåŠ¨æå–æ–‡ä»¶åä½œä¸ºæ ‡é¢˜ã€‚

### 3. æ€§èƒ½è€ƒè™‘

- æ ‡é¢˜å¢å¼ºä¼šå¢åŠ æ–‡æœ¬æ®µçš„é•¿åº¦ï¼ˆçº¦å¢åŠ 10-50å­—ç¬¦ï¼‰
- ä¼šç•¥å¾®å¢åŠ å‘é‡å­˜å‚¨çš„ç©ºé—´å ç”¨
- æ£€ç´¢æ—¶ä¼šæ¶ˆè€—æ›´å¤štokens
- **ä½†æ˜¯**ï¼šæ£€ç´¢å‡†ç¡®æ€§çš„æå‡è¿œå¤§äºè¿™äº›æˆæœ¬ï¼

---

## æ€»ç»“

é€šè¿‡å®ç°æ–‡æœ¬æ®µè½¬æ¢å™¨ï¼Œæˆ‘ä»¬å®Œæˆäº†æ–‡æ¡£å¤„ç†ç³»ç»Ÿçš„æœ€åä¸€ç¯ï¼š

1. **äº”å±‚æ¶æ„å®Œæ•´**: åŠ è½½â†’è§£æâ†’è½¬æ¢â†’åˆ†å‰²â†’æ–‡æœ¬æ®µå¢å¼º
2. **æå‡æ£€ç´¢æ•ˆæœ**: ä¸ºæ¯ä¸ªæ–‡æœ¬æ®µæ·»åŠ ä¸Šä¸‹æ–‡ä¿¡æ¯
3. **çµæ´»å¯é…ç½®**: æ”¯æŒå¤šç§å¢å¼ºç­–ç•¥
4. **æ˜“äºæ‰©å±•**: æ·»åŠ æ–°è½¬æ¢å™¨åªéœ€å®ç°æ¥å£

**å®Œæ•´å¤„ç†é“¾**: 
åŠ è½½å™¨ + è§£æå™¨ + æ–‡æ¡£è½¬æ¢å™¨ + åˆ†å‰²å™¨ + æ–‡æœ¬æ®µè½¬æ¢å™¨ = ä¼ä¸šçº§RAGæ–‡æ¡£å¤„ç†ç³»ç»Ÿ ğŸ‰

è¿™æ˜¯LangChain4jæ¨èçš„æœ€ä½³å®è·µï¼Œç”¨äºæé«˜RAGç³»ç»Ÿçš„æ£€ç´¢æ•ˆæœï¼
